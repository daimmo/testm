<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>Registrati</title>
<link href="actionbox.css?v=0.4" rel="stylesheet">
<link href="https://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet">	
</head>

<body>
	<div id="wrap">
	<div id="box">
		<h2>Registrati</h2>
		<form id="registrationForm" action="success.html" name="registration">
			<select name="title">
					<option value="" disabled selected>Titolo</option>
					<option value="signore">Sig.</option>
					<option value="signora">Sig.ra</option>
			</select><br>
			<input type="text" name="firstname" id="firstname" placeholder="Nome..."><br>
			<input type="text" name="lastname" id="lastname" placeholder="Cognome..."><br>
			<input type="email" name="email" id="email" placeholder="indirizzo@email.com..."><br>
			<input type="text" name="phone" id="phone" placeholder="Telefono..."><br>
			<button type="submit">Registrati</button>&nbsp;
			<button id="closeModal">Annulla</button>
		</form>
	
	</div>
	</div>
	
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
	<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/jquery-validation@1.17.0/dist/jquery.validate.js"></script>

	<script>

		$(document).ready(function() {

			$('#closeModal').on('click', function(){
				$("#registrationForm").submit(function(e){
        			e.preventDefault();
    			});
				parent.jQuery.fancybox.close();
 			});


			$.validator.addMethod( "nameSurname", function( value, element ) {
				return this.optional( element ) || /^[a-zA-ZÀÁÂÃÄÅàáâãäåÒÓÔÕÖØòóôõöøÈÉÊËèéêëÇçÌÍÎÏìíîïÙÚÛÜùúûüÿÑñ][a-zA-Z'ÀÁÂÃÄÅàáâãäåÒÓÔÕÖØòóôõöøÈÉÊËèéêëÇçÌÍÎÏìíîïÙÚÛÜùúûüÿÑñ ]*$/.test( value );
			}, "Carattere non valido" );
			
			$('#registrationForm').validate({
				errorPlacement: function(error, element) {         
					error.insertBefore(element);
					$('<br>').insertBefore(element);
   				},
				rules: {
					title: {
						required: true
					},
					firstname: {
						required: true,
						nameSurname: true
					},
					lastname: {
						required: true,
						nameSurname: true
					},
					email: {
						required: true,
						email: true,
						maxlength: 55
					},
					phone: {
						required: true,
						maxlength: 12
					}
				},
				messages: {
					title: {
						required: "Selezionare un titolo"
					},
					firstname: {
						required: "Inserire il nome"
					},
					lastname: {
						required: "Inserire il cognome"
					},
					email: {
						required: "Inserire l'email",
						email: "Inserire un indirizzo di email valido",
						maxlength: "Massimo 55 caratteri"
					},
					phone: {
						required: "Inserire il numero di telefono",
						maxlength: "Massimo 12 cifre/caratteri"
					}

				}
			});
		});
	</script>

</body>
</html>
